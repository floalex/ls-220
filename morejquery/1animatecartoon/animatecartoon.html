<!doctype html>
<html lang="en-US">
  <head>
    <title>Animated Comic Strip</title>
    <meta charset="UTF-8" />
    <!--<link rel="stylesheet" href="comic.css" />-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
      $(function() {
        var $blinds = $("[id^=blind]"),
            delay = 1500,
            speed = 250;
        
        function startAnimation(delay, speed) {
          $blinds.each(function(i) {
            $blind = $blinds.eq(i);
            $blind.delay(delay * i + speed).animate({
              top: "+=$blind.height",
              height: 0,
            }, speed);
          });
        }
        
        $("a").on("click", function(e) {
          e.preventDefault();
          // need to end the previous startAnimation() method, before starting it again 
          // .finish() will not only stop the current animation and all queued animations, it will also jump 
          // to the end frame of every one of the queued and currently running animations on the element
          $blinds.finish();
          $blinds.removeAttr("style");
          startAnimation(delay, speed);
        });
      });
    </script>
    <style>
      #comic {
        position: relative;
        overflow: hidden;
        width: 705px;
        height: 312px;
        margin: 0 auto;
        background: transparent url("/ls-220/morejquery/1animatecartoon/xkcd.gif") 0 0 no-repeat;
      }
      
      /*style the link align with the comic*/
      p {
        width: 705px;
        margin: 0 auto;
        padding-top: 15px;
      }
      
      [id^="panel"] {
        float: left;
        width: 215px;
        height: 282px;
      }
      
      #panel_2 { width: 179px; }
      
      #panel_3 {
        width: 130px;
        margin-right: 8px;
      }
      
      #panel_4 { width: 173px; }
      
      [id^="blind"] {
        position: absolute;
        background: #ffffff;
      }
      
      #blind_1 {
        left: 3px;
        top: 6px;
        width: 123px;
        height: 76px;
      }
      
      #blind_2 {
        left: 33px;
        top: 57px;
        width: 178px;
        height: 65px;
      }
      
      #blind_3 {
        left: 224px;
        top: 7px;
        width: 139px;
        height: 94px;
      }
      
      #blind_4 {
        left: 290px;
        top: 77px;
        width: 96px;
        height: 46px;
      }
      
      #blind_5 {
        left: 402px;
        top: 8px;
        width: 102px;
        height: 137px;
      }
      
      #blind_6 {
        left: 441px;
        top: 67px;
        width: 76px;
        height: 81px;
      }
      
      #blind_7 {
        left: 535px;
        top: 6px;
        width: 139px;
        height: 79px;
      }
      
      #blind_8 {
        left: 609px;
        top: 51px;
        width: 49px;
        height: 30px;
      }
      
      #blind_9 {
        left: 561px;
        top: 79px;
        width: 137px;
        height: 42px;
      }
    </style>
  </head>
  <body>
    <div id="comic">
      <div id="panel_1">
        <div id="blind_1"></div>
        <div id="blind_2"></div>
      </div>

      <div id="panel_2">
        <div id="blind_3"></div>
        <div id="blind_4"></div>
      </div>

      <div id="panel_3">
        <div id="blind_5"></div>
        <div id="blind_6"></div>
      </div>

      <div id="panel_4">
        <div id="blind_7"></div>
        <div id="blind_8"></div>
        <div id="blind_9"></div>
      </div>
    </div>
    <!--Add a link to start over the animation-->
    <p><a href="#">Start Over</a></p>
  </body>
</html>
